# Daadwerkelijke opties in de echte apparaten: Espresso, Black coffee, Cappuccino, Latte macchiato, Caffelatte, Choco, Mocha, Hot water
Function Invoke-Dialog-Koffiezetapparaat {
    If (($State.self.states) -contains "Drankje") {
    $global:ActionMessage = "Je hebt al een drankje in je hand. Er nog een nemen heeft geen toegevoegde waarde en beperkt je wel in het openen van deuren. Je bedenkt je en zet niet nog een kop."
    Break

    } 
    If ($DialogOption -eq "Fout") {$SubCommand = Read-Host "Ongeldige keuze. Je hebt twee opties: koffie en thee. Wat wil je drinken?"}
        Else{$SubCommand = Read-Host "Je kunt kiezen: koffie of thee. Wat wil je drinken?"}
    switch ($SubCommand)
    {
        'Koffie'{
        $DialogOption = "Koffie"
        Invoke-Dialog-Koffiezetapparaat-Koffie
        Break
        }
        'Thee'{
        $DialogOption = "Thee"
        Invoke-Dialog-Koffiezetapparaat-Thee
        Break
        }
        default{
        $DialogOption = "Fout"
        Invoke-Dialog-Koffiezetapparaat
        }
    }
}

Function Invoke-Dialog-Koffiezetapparaat-Koffie {
    If ($DialogOption -eq "Fout") {$SubCommand = Read-Host "Ongeldige keuze. Hoe drink je je koffie?"}
        Else{$SubCommand = Read-Host "Je drinkt koffie. Wat wil je er in? Suiker, melk, of niets"}
    switch ($SubCommand)
    {
        'Suiker'{
        $state.self.inventory += 'Een kop Koffie met suiker'
        $state.self.states += 'Drankje'
        $global:ActionMessage = "Je zet een kop koffie met suiker."
        $DialogOption = "KoffieSuiker"
        Break
        }
        'Melk'{
        $state.self.inventory += 'Een kop Koffie met melk'
        $state.self.states += 'Drankje'
        $global:ActionMessage = "Je zet een kop koffie met melk."
        $DialogOption = "KoffieMelk"
        Break
        }
        'Niets'{
        $state.self.inventory += 'Een kop zwarte koffie'
        $state.self.states += 'Drankje'
        $global:ActionMessage = "Je zet een kop zwarte koffie."
        $DialogOption = "KoffieZwart"
        Break
        }
        default{
        $DialogOption = "Fout"
        Invoke-Dialog-Koffiezetapparaat-Koffie
        }
    }
}

Function Invoke-Dialog-Koffiezetapparaat-Thee {
    If ($DialogOption -eq "Fout") {$SubCommand = Read-Host "Ongeldige keuze. Welke thee wil je?"}
        Else{$SubCommand = Read-Host "Je drinkt koffie. Welke smaak wil je: English Breakfast, bosvruchten, of rooibos?"}
    switch ($SubCommand)
    {
        'English breakfast'{
        $state.self.inventory += 'Een kop English Breakfast thee'
        $state.self.states += 'Drankje'
        $global:ActionMessage = "Je zet een kop English Breakfast thee."
        $DialogOption = "Thee_English-Breakfast"
        Break
        }
        'Bosvruchten'{
        $state.self.inventory += 'Een kop bosvruchtenthee'
        $state.self.states += 'Drankje'
        $global:ActionMessage = "Je zet een kop kbosvruchtenthee"
        $DialogOption = "Thee_Bosvruchten"
        Break
        }
        'Rooibos'{
        $state.self.inventory += 'Een kop rooibosthee'
        $state.self.states += 'Drankje'
        $global:ActionMessage = "Je zet een kop rooibosthee"
        $DialogOption = "Thee_Rooibos"
        Break
        }
        default{
        $DialogOption = "Fout"
        Invoke-Dialog-Koffiezetapparaat-Thee
        }
    }
}